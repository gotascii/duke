#!/usr/bin/env ruby

require 'duke'

ARGV << '--help' if ARGV.empty?

command = ARGV.shift

case command
when '-h', '--help'
  puts <<-EOT
Usage: duke COMMAND [ARGS]

Commands:
new [DIR]             install duke into DIR or current directory
add REPO_URL          add REPO_URL to current duke directory
start REPO_NAME PORT  start cijoe for REPO_DIR on PORT
stop REPO_NAME        stop cijoe for REPO_DIR
list                  list cijoe server statues
  EOT
else
  Duke::Cli.new.send(command.to_sym, *ARGV)
end